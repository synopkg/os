 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Debian mirror status</title>
  <link rel="stylesheet" type="text/css" href="mirror-status.css">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script src="sorttable.js"></script>
</head>
<body>

<h1>Debian mirror status</h1>

[<a href="mirror-hierarchy.html">H</a>]

<table id="results">
<thead>
<tr>
  <th class="hostname">Site</th>
  <th>mastertrace timestamp</th>
  <th><abbr title="mirror lag">archive version (age)</abbr></th>
  <th>last update run</th>
  <th>score</th>
  <th>~#/d</th>
  <th>delay (&mu;/&sigma;)</th>
  <th>extra</th>
</tr>
</thead>

<tbody>
{% for mirror in mirrors %}
  {% if mirror.checkoverview_error and mirror.mastertrace_error %}
  <tr class="error">
  {% else %}
  <tr id="{{mirror.name}}">
  {% endif %}
    <td sorttable_customkey="{{mirror.name|mirrorsortkey}}" class="hostname">
    {% if mirror.trace_url is defined and mirror.trace_url %}
      <a href="{{mirror.trace_url}}">{{ mirror.name }}</a>
    {% else %}
      {{ mirror.name }}
    {% endif %}
      [<a href="mirror-hierarchy.html#{{mirror.name}}">H</a>,<a href="mirror-info/{{mirror.name}}.html">R</a>]
    </td>

    {% if mirror.mastertrace_error %}
      <td>{{ mirror.mastertrace_error }}</td>
    {% else %}
      <td sorttable_customkey="{{mirror.mastertrace_trace_timestamp}}" {{mirror.mastertrace_trace_timestamp|agegroupdeltaclass(ftpmastertrace)}}>
      {% if mirror.mastertrace_trace_timestamp == ftpmastertrace %}
        current
      {% else %}
        {{mirror.mastertrace_trace_timestamp|datetimeage(ftpmastertrace)}}
      {% endif %}
      </td>
    {% endif %}

    {% if mirror.checkoverview_error %}
      <td class="error" sorttable_customkey="-1">{{ mirror.checkoverview_error }}</td>
    {% else %}
      {% if (mirror.checkoverview_age|timedelta_total_seconds == 0) %}
        <td sorttable_customkey="0" class="age0">current</td>
      {% else %}
        <td sorttable_customkey="{{mirror.checkoverview_age|timedelta_total_seconds}}" {{mirror.checkoverview_age|agegroupclass}}>
          {{mirror.checkoverview_age|timedeltaage(last_run)}}
        </td>
      {% endif %}
    {% endif %}

    {% if mirror.sitetrace_error %}
      <td class="error">{{ mirror.sitetrace_error }}</td>
    {% else %}
      <td sorttable_customkey="{{mirror.sitetrace_trace_timestamp}}" {{mirror.sitetrace_trace_timestamp|agegroupdeltaclass(now)}}>{{mirror.sitetrace_trace_timestamp|datetimeage(now)}}</td>
    {% endif %}

    <td>{{ '%0.2f'| format(mirror.checkoverview_score|float) }}</td>

    {% if not mirror.runs_per_day or mirror.runs_per_day == 0 %}
      <td class="error">?</td>
    {% elif mirror.runs_per_day < 1.5 %}
      <td class="age7">{{ '%0.2f'| format(mirror.runs_per_day|float) }}</td>
    {% elif mirror.runs_per_day < 3.5 %}
      <td class="age3">{{ '%0.2f'| format(mirror.runs_per_day|float) }}</td>
    {% elif mirror.runs_per_day > 6.5 %}
      <td class="age5">{{ '%0.2f'| format(mirror.runs_per_day|float) }}</td>
    {% elif mirror.runs_per_day > 5.5 %}
      <td class="age3">{{ '%0.2f'| format(mirror.runs_per_day|float) }}</td>
    {% elif mirror.runs_per_day > 4.5 %}
      <td class="age2">{{ '%0.2f'| format(mirror.runs_per_day|float) }}</td>
    {% else %}
      <td class="age0"><abbr title="{{ '%0.2f'| format(mirror.runs_per_day|float) }}">&#x2714;</abbr></td>
    {% endif %}

    {% if not mirror.max_age_avg %}
      <td class="error" sorttable_customkey="-1">?</td>
    {% else %}
      <td sorttable_customkey="{{mirror.max_age_avg|timedelta_total_seconds}}"
      {% if mirror.max_age_avg|timedelta_total_seconds > 24*3600 %}
        class="age7"
      {% elif mirror.max_age_avg|timedelta_total_seconds > 8*3600 %}
        class="age4"
      {% elif mirror.max_age_avg|timedelta_total_seconds > 4*3600 %}
        class="age2"
      {% elif mirror.max_age_avg|timedelta_total_seconds > 2*3600 %}
        class="age1"
      {% else %}
        class="age0"
      {% endif %}
      >
      {{ mirror.max_age_avg|timedelta_hrs_mins }}&nbsp;/&nbsp;{% if not mirror.max_age_stddev %}-{% else %}{{ mirror.max_age_stddev|timedelta_hrs_mins }}{% endif %}
      </td>
    {% endif %}

    <td>
      {% for k in mirror.aliases %}
        {% if mirror.aliases[k].error is defined %}
          <span class="aliaserror">
            {{k}}: {{mirror.aliases[k].error}}
          </span>
        {% elif mirror.aliases[k].ok %}
            {{k}}: OK
        {% else %}
          <span class="aliaswarning">
            {{k}}: mismatch?
          </span>
        {% endif %}
      {{ ";" if not loop.last else "" }}
      {% endfor %}
      {% if mirror.aliases and mirror.bugs %}
        <br>
      {% endif %}
      {% for k in mirror.bugs %}
        {% if k.done %}<del>{% endif %}
          [{{k.date}}/<strong>{{k.log_modified}}</strong>]&nbsp;<a href="https://bugs.debian.org/{{k.bug_num}}"</a>#{{k.bug_num}}: {{k.subject}}</a>
        {% if k.done %}</del>{% endif %}
        {% if not loop.last %}<br>{% endif %}
      {% endfor %}
    </td>
  </tr>
{% endfor %}
</tbody>
</table>

<p>
<hr NOSHADE>
<div id="footer"
>Debian mirrors team - mirrors@d.o
&mdash;
last test run: {{last_run.strftime('%Y-%m-%d %H:%M:%S') }}
&mdash;
generated: {{now.strftime('%Y-%m-%d %H:%M:%S') }}
&mdash;
(check <a href="https://validator.w3.org/check?uri=referer">HTML</a>, <a href="https://jigsaw.w3.org/css-validator/check/referer">CSS</a>)
</div>
</body>
</html>

