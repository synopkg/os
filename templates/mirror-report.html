 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Debian mirror report for {{site.name}}</title>
  <link rel="stylesheet" type="text/css" href="../mirror-status.css">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<h1>Debian mirror report for {{site.name}}</h1>

[<a href="../mirror-status.html#{{site.name}}">S</a>,<a href="../mirror-hierarchy.html#{{site.name}}">H</a>]

{% if site.bugs %}
  <br>
{% endif %}
{% for k in site.bugs %}
  {% if k.done %}<del>{% endif %}
    [{{k.date}}/<strong>{{k.log_modified}}</strong>]&nbsp;<a href="https://bugs.debian.org/{{k.bug_num}}"</a>#{{k.bug_num}}: {{k.subject}}</a>
  {% if k.done %}</del>{% endif %}
  {% if not loop.last %}<br>{% endif %}
{% endfor %}

<table id="results">
<tr>
  <td><a href="{{site.base_url}}">Site</a></td>
  <td><abbr title="master trace as of last update of site tracefile"><a href="{{site.trace_url}}master">mirror version</a></abbr></td>
  <td><abbr title="master trace last seen on archive master">age<a/></td>
  <td><a href="{{site.trace_url}}master">mastertrace</a></td>
  <td><a href="{{site.trace_url}}{{site.name}}">sitetrace</a></td>
  <td><a href="{{site.trace_url}}">traceset</a></td>
  <td>score</td>
  <td>aliases/candidate</td>
</tr>

{% for c in checks %}
  <tr>
    <td>{{c.checkrun_timestamp.strftime('%Y-%m-%d %H:%M:%S')}}</td>

    {% if not c.checkoverview_id %}
      <td class="error" colspan="2">unknown</td>
    {% elif c.checkoverview_error %}
      <td class="error" colspan="2">{{ c.checkoverview_error }}</td>
    {% else %}
      <td>
        {% if c.checkoverview_version_changed is defined and c.checkoverview_version_changed %}<strong>{% endif %}
        {{ c.checkoverview_version.strftime('%Y-%m-%d %H:%M:%S') }}
        {% if c.checkoverview_version_changed is defined and c.checkoverview_version_changed %}</strong>{% endif %}
      </td>
      {% if (c.checkoverview_age|timedelta_total_seconds == 0) %}
        <td class="age0">current</td>
      {% else %}
        <td {{c.checkoverview_age|agegroupclass}}>
          {{c.checkoverview_age|timedeltaage(c.checkrun_timestamp)}}
        </td>
      {% endif %}
    {% endif %}

    {% if not c.mastertrace_id %}
      <td class="error">No mastertrace info.</td>
    {% elif c.mastertrace_error %}
      <td class="error">{{ c.mastertrace_error }}</td>
    {% else %}
      <td>
        {% if c.mastertrace_trace_timestamp_changed is defined and c.mastertrace_trace_timestamp_changed %}<strong>{% endif %}
        {{ c.mastertrace_trace_timestamp.strftime('%Y-%m-%d %H:%M:%S') }}
        {% if c.mastertrace_trace_timestamp_changed is defined and c.mastertrace_trace_timestamp_changed %}</strong>{% endif %}
      </td>
    {% endif %}

    {% if not c.sitetrace_id %}
      <td class="error">No sitetrace info.</td>
    {% elif c.sitetrace_error %}
      <td class="error">{{ c.sitetrace_error }}</td>
    {% else %}
      <td>
        {% if c.sitetrace_trace_timestamp_changed is defined and c.sitetrace_trace_timestamp_changed %}<strong>{% endif %}
        {{ c.sitetrace_trace_timestamp.strftime('%Y-%m-%d %H:%M:%S') }}
        {% if c.sitetrace_trace_timestamp_changed is defined and c.sitetrace_trace_timestamp_changed %}</strong>{% endif %}
      </td>
    {% endif %}

    {% if not c.traceset_id %}
      <td class="error">No traceset info.</td>
    {% elif c.traceset_error %}
      <td class="error">{{ c.traceset_error }}</td>
    {% else %}
      <td>{{ c.traceset_traceset }}</td>
    {% endif %}
    <td>{{ '%0.2f'| format(c.checkoverview_score|float) }}</td>

    <td>
      {% for k in c.aliases %}
        {% if c.aliases[k].error is defined %}
          <span class="aliaserror">
            {{k}}: {{c.aliases[k].error}}
          </span>
        {% elif c.aliases[k].ok %}
            {{k}}: OK
        {% else %}
          <span class="aliaswarning">
            {{k}}: mismatch?
          </span>
        {% endif %}
      {{ "," if not loop.last else "" }}
      {% endfor %}
      {% if not c.aliases %}
        - none -
      {% endif %}
    </td>
  </tr>
{% endfor %}
</table>

<p id="footer"
>Debian mirrors team - mirrors@d.o
&mdash;
generated: {{now.strftime('%Y-%m-%d %H:%M:%S') }}
&mdash;
(check <a href="https://validator.w3.org/check?uri=referer">HTML</a>, <a href="https://jigsaw.w3.org/css-validator/check/referer">CSS</a>)
</p>
</body>
</html>

